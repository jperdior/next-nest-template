# ============================================================================
# Environment Variables - Example Configuration
# ============================================================================
# 
# Copy this file to .env for local development (outside Docker)
# Docker Compose files have DATABASE_URL configured inline
#
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/testproject?schema=public

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------

# Node environment
NODE_ENV=development

# API Ports (direct access, not recommended for development)
USER_APP_PORT=3001
BACKOFFICE_PORT=3011

# Frontend URLs (for CORS configuration)
# ⚠️  Use Traefik domains for development, not localhost ports
USER_FRONTEND_URL=http://user.local:8080
BACKOFFICE_FRONTEND_URL=http://admin.local:8080

# API URLs (through Traefik)
USER_API_URL=http://api.user.local:8080
BACKOFFICE_API_URL=http://api.admin.local:8080

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------

REDIS_HOST=localhost
REDIS_PORT=6379

# ----------------------------------------------------------------------------
# RabbitMQ Configuration
# ----------------------------------------------------------------------------

RABBITMQ_URL=amqp://guest:guest@localhost:5672

# ----------------------------------------------------------------------------
# Authentication & Security
# ----------------------------------------------------------------------------

# JWT Secret (generate a strong random string in production)
# Example: openssl rand -base64 32
# ⚠️  CRITICAL: This placeholder will NOT work in production - you MUST replace it
JWT_SECRET=PLEASE_REPLACE_JWT_SECRET_DO_NOT_USE_IN_PRODUCTION

# JWT Expiration (e.g., 1h, 7d, 30d)
JWT_EXPIRATION=7d

# Google OAuth (for Google SSO)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://api.user.local:8080/auth/google/callback

# ----------------------------------------------------------------------------
# Email Configuration (for verification & password reset)
# ----------------------------------------------------------------------------

# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password

# Email sender
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME=Your App Name

# ----------------------------------------------------------------------------
# Frontend URLs (for email links)
# ----------------------------------------------------------------------------

# Base URL for email verification links
EMAIL_VERIFICATION_URL=http://user.local:8080/verify-email

# Base URL for password reset links
PASSWORD_RESET_URL=http://user.local:8080/reset-password

# ----------------------------------------------------------------------------
# Optional: Prisma Studio
# ----------------------------------------------------------------------------

# Prisma Studio port (defaults to 5555)
PRISMA_STUDIO_PORT=5555

# ============================================================================
# Notes
# ============================================================================
#
# 1. Docker Development (Traefik Routing):
#    - All services are accessed through Traefik reverse proxy on port 8080
#    - Frontend domains: http://[module-name].local:8080
#    - Backend API domains: http://api.[module-name].local:8080
#    - Add *.local domains to /etc/hosts pointing to 127.0.0.1
#    - Example:
#        127.0.0.1 user.local api.user.local admin.local api.admin.local
#    - Direct port access (localhost:3001, etc.) available but not recommended
#    - DATABASE_URL is configured in module docker-compose.yml files
#    - No .env file needed when running in Docker
#
# 2. Local Development (outside Docker):
#    - Copy this file to .env
#    - Update values to match your local setup
#    - Useful for running Prisma CLI commands locally
#
# 3. Production:
#    - Never commit .env files with real credentials
#    - Use environment-specific configuration management
#    - Generate strong random values for secrets
#    - ⚠️  JWT_SECRET: The placeholder value will cause startup failure
#      Generate a real secret: openssl rand -base64 32
#
# ============================================================================
